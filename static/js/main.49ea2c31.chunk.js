(this["webpackJsonpcriticize-my-photo"]=this["webpackJsonpcriticize-my-photo"]||[]).push([[0],{36:function(t,e,c){},37:function(t,e,c){},38:function(t,e,c){},41:function(t,e,c){},42:function(t,e,c){"use strict";c.r(e);var n=c(9),a=c(15),o=c.n(a),r=c(10),s=c(27),i=c(18),j=c(5),d={data:[]},u={data:{}},O=Object(r.c)({photosReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_PHOTO_REQUEST":return Object(j.a)({},t);case"GET_PHOTO_SUCCESS":return Object(j.a)(Object(j.a)({},t),{},{data:[].concat(Object(i.a)(t.data),[e.payload])});case"GET_PHOTO_ERROR":return Object(j.a)(Object(j.a)({},t),{},{error:e.payload});default:return t}},commentsReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_NEW_COMMENT":return Object(j.a)(Object(j.a)({},t),{},{data:[e.payload].concat(Object(i.a)(t.data))});case"GET_COMMENT_REQUEST":return Object(j.a)({},t);case"GET_COMMENT_SUCCESS":return Object(j.a)(Object(j.a)({},t),{},{data:e.payload});case"GET_COMMENT_ERROR":return Object(j.a)(Object(j.a)({},t),{},{error:e.payload});default:return t}}}),h=Object(r.d)(O,Object(r.a)(s.a)),l=(c(36),c(17)),b=c(3),m=(c(37),c(24)),p=c(0),f=(c(38),c(1));var E=function(){var t=Object(n.b)(),e=Object(b.f)(),c=Object(p.useState)(),a=Object(m.a)(c,2),o=a[0],r=a[1],s=Object(n.c)((function(t){return t.commentsReducer.data})),i=Object(p.useState)({}),j=Object(m.a)(i,2),d=j[0],u=j[1];return Object(p.useEffect)((function(){var c;t((c=e.state.id,function(t){t({type:"GET_COMMENTS_REQUEST"}),fetch("https://jsonplaceholder.typicode.com/posts/".concat(c,"/comments")).then((function(t){return t.json()})).then((function(e){return t({type:"GET_COMMENT_SUCCESS",payload:e})})).catch((function(e){return t({type:"GET_COMMENT_ERROR",payload:e})}))})),r(e.state.url)}),[e]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h3",{children:"Comments"}),Object(f.jsxs)("div",{className:"comments",children:[Object(f.jsx)("img",{src:o,alt:"a nice photo",id:e.state.id}),Object(f.jsxs)("div",{className:"comments-section",children:[Object(f.jsx)("h4",{children:"Comments"}),s.length>0?s.map((function(t){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("p",{className:"comment",children:[Object(f.jsx)("p",{className:"user",children:t.name}),Object(f.jsx)("p",{children:t.body})]})})})):Object(f.jsx)("p",{className:"no-comment",children:"There is no comment \ud83d\ude41 Add first comment on this photo!"}),Object(f.jsxs)("form",{onSubmit:function(c){var n,a;c.preventDefault(),t((n=d,a=e.state.id,function(t){fetch("https://jsonplaceholder.typicode.com/posts/".concat(a,"/comments"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(e){return t({type:"ADD_NEW_COMMENT",payload:e})})).catch((function(t){return console.log(t)}))}))},className:"form",children:[Object(f.jsx)("input",{onChange:function(t){return u({name:"Commentator",body:t.target.value})},value:d.body}),Object(f.jsx)("button",{type:"submit",children:"Add new comment"})]})]})]})]})},y=(c(41),Object(b.g)((function(){var t=Object(n.b)();Object(p.useEffect)((function(){t((function(t){t({type:"GET_PHOTO_REQUEST"}),fetch("https://picsum.photos/v2/list").then((function(t){return t.json()})).then((function(e){return t({type:"GET_PHOTO_SUCCESS",payload:e})})).catch((function(e){return t({type:"GET_PHOTO_ERROR",payload:e})}))}))}),[]);var e=Object(n.c)((function(t){return t.photosReducer.data[0]}));return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{className:"title",children:"Criticize My Photo!"}),Object(f.jsx)("div",{className:"dashboard",children:e&&e.map((function(t){return Object(f.jsxs)("div",{className:"dashboard-photo",children:[Object(f.jsx)("span",{className:"author",children:t.author}),Object(f.jsx)("img",{id:t.id,src:t.download_url,alt:"a nice photo"}),Object(f.jsx)(l.b,{className:"router",to:{pathname:"/Comments",state:{id:t.id,url:t.download_url}},children:"See comments..."})]})}))})]})}))),T=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(l.a,{children:Object(f.jsxs)(b.c,{children:[Object(f.jsx)(b.a,{exact:!0,path:"/",children:Object(f.jsx)(y,{})}),Object(f.jsx)(b.a,{path:"/comments",children:Object(f.jsx)(E,{})})]})})})};o.a.render(Object(f.jsx)(n.a,{store:h,children:Object(f.jsx)(T,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.49ea2c31.chunk.js.map